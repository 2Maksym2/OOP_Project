<UserControl x:Class="DealHubWPF.View.AdminUsersList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:DealHubWPF.View"
             mc:Ignorable="d" 
Height="600" Width="800">
    <Grid Background="#F5F5F5">
        <ScrollViewer Background="White" VerticalScrollBarVisibility="Hidden">

            <StackPanel Margin="20">

                <!-- Логотип + Іконки профілю -->
                <Border CornerRadius="15" BorderThickness="1" Background="#EAC4C4" Height="47"  Margin="0,0,0,10">
                    <DockPanel Background="Transparent">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Button Command="{Binding AdminPanelCommand}" Style="{StaticResource RegButtons}" Background="Transparent" BorderThickness="0" Cursor="Hand">
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    <Image Source="/Images/updatelogo.png" Width="69" Height="53" Margin="0,0,5,0" />
                                    <TextBlock Text="DealHub" 
                                     FontSize="18" 
                                     FontWeight="Bold" 
                                     Margin="10,10,0,0" Width="103"
                                     Foreground="Black"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </DockPanel>
                </Border>
                <TextBlock Text="Список користувачів" HorizontalAlignment="Center" FontSize="25" FontWeight="Bold"/>
                <!-- Список -->
                <ScrollViewer Background="Transparent"  VerticalScrollBarVisibility="Hidden" Margin="0,15,0,30" Grid.RowSpan="2" Grid.Row="1">
                    <ItemsControl ItemsSource="{Binding Users}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <Border Background="#D3D3D3" CornerRadius="10" Padding="10" Margin="0,0,0,10">
                                        <DockPanel VerticalAlignment="Center">
                                            <Image  Source="/Images/profileico.png" Width="40" Height="40" Margin="0,0,10,0" />
                                                <TextBlock VerticalAlignment="Center" Text="{Binding Nickname}" FontWeight="Bold" FontSize="14" />
                                                <TextBlock x:Name="Blocked" Text=" (Заблокований)" VerticalAlignment="Center" FontWeight="Bold" FontSize="14" Foreground="Red"  Margin="5,0,0,0">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsBlocked}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                            </TextBlock>
                                                <StackPanel Orientation="Vertical" Margin="10">
                                                <Border BorderThickness="1" Margin="0,0,0,10">
                                                    <Button Command="{Binding BanUserCommand}" Style="{StaticResource CategoryButtons}" Content="Заблокувати" Width="90"  Height="30"  VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10,0,0,0" Click="Button_Click" BorderThickness="0" FontSize="12" />
                                                </Border>
                                            </StackPanel>
                                        </DockPanel>
                                    </Border>

                                </StackPanel>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>

            </StackPanel>
        </ScrollViewer>
        <Button Command="{Binding AdminPanelCommand}" Style="{StaticResource CategoryButtons}" Width="155" Height="34" 
                VerticalAlignment="Bottom" HorizontalAlignment="Center" 
                Margin="0,0,30,20"
                FontSize="20" Foreground="White"
                BorderBrush="Transparent"
                Content="Назад" >
        </Button>

    </Grid>
</UserControl>
